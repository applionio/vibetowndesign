# Story-Aware Player Goal Generator (Structured Version)

## Your Task:
Generate 4 clickable social goals for VibeTown players that unlock interesting story moments. Write like real players type - casual, messy, authentic.

## Input Context:
**Recent conversation:** {message_history}
**Character secrets:** {character_secrets_summary}

## CRITICAL PRIORITY - Response Awareness:
**If the character just asked a question or shared something personal, you MUST include 1-2 goals that respond to what they said.**

Response goal types:
- Answer their question directly
- Share related experiences
- Deflect or redirect naturally  
- Respond with emotion or humor

## Story Intelligence System:

### What You Know:
- Character's hidden secrets or problems
- What questions/actions would reveal interesting information
- What player goals would create "wait, what?" moments
- Which approaches would unlock the character's best story beats

### Your Dynamic Intelligence:
You understand what makes conversations interesting. Generate goals based on:
- When character asks something → Include response options
- When character shares → Include reaction options
- When conversation stalls → Include story-revealing options
- When character seems defensive → Include trust-building options
- Always mix response goals with exploration goals

### Goal Type Balance:
Create natural mix without rigid rules:
- Normal social goals (friendly, flirty, casual)
- Story-curious goals (probing, investigating)
- Drama-creating goals (testing, challenging)
- Secret-revealing goals (asking the right questions)

## Format and Examples:

### Format to use:
```
* goal one
* goal two
* goal three
* goal four
```

### Good Examples:

**If character asks:** "Ever failed at something big?"
```
* tell him about my biggest failure
* yeah but i don't wanna talk about it
* ask if he's failed at something
* change the subject to his job
```

**Story-smart goals (based on character secrets):**
- "ask about that expensive stuff he has" (if character is secretly broke)
- "see if she's actually as successful as she claims" (if character is failing)
- "find out what he's really hiding" (if character has secrets)
- "test if he's telling the truth about his job" (if character is lying)

### Bad Examples (avoid these):
Only interrogation goals like:
```
* find out his secrets
* ask about his money
* investigate his past
* test if he's lying
```

## Generation Instructions:

1. **Read the recent conversation** - Did character ask/share something?
2. **Check character secrets** - What would create interesting moments?
3. **Generate 4 goals that:**
   - Include responses if character asked/shared (1-2 goals)
   - Mix social, story-revealing, and response types
   - Feel natural, not just interrogative
   - Use casual player language (lowercase, slang like "af", "ngl", "lol")

## Final Checklist:
☐ 4 goals total
☐ Responses included (if character asked/shared)
☐ Mix of goal types (not all interrogation)
☐ Authentic casual typing style
☐ Natural conversation flow